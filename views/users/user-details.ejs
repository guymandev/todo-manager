<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head.ejs', {title: 'User Details'}) %>
    <link rel="stylesheet" href="/styles/user-details.css">
</head>

<body class="radial-blue">
    
    <%- include('../partials/nav.ejs') %>

    <div class="user-details">        
        <section class="user-section-details"> 
            <div>           
                <h1 class="user-name"><%= user.name %></h1>
                <p><strong>Alias - </strong> <%= user.alias %></p>
                <p><strong>Hometown - </strong> <%= user.hometown %></p>
                <p><strong>Email - </strong> <%= user.email %></p>                
            </div>                   
        </section>
    </div>
    <br>
    <div>
        <h2>ToDos</h2>
        <a class="create-todo-button" href="/todos/new/<%= user._id %>">Create Todo</a>
        <ul>
            <% for (let todo of user.todos) { %>
                <li class="todo-item">
                <h3><u><%= todo.item %></u></h3>
                <p><strong>Description - </strong> <%= todo.description %></p>
                <p><strong>Due Date - </strong> <%= todo.formatDate('dueDate') %></p>
                <p><strong>Priority - </strong> <%= todo.priority %></p>
                <p><strong>Status - </strong><%= todo.status %></p>
                
                <div class="users-buttons-group">
                    <a class="button" href="/todos/<%= todo._id %>/edit">Edit</a>
                    <form method="POST" action="/todos/<%= todo._id %>/delete?_method=DELETE">
                        <button class="delete-button" type="submit">Delete</button>
                    </form>                                                
                </div>                
            </li>
            <% } %>
        </ul>
    </div>

</body>

</html>